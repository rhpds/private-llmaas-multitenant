# -- Enable OpenShift specific features
openshift: true

# -- This will set the replicaset count more information can be found here: https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/
replicaCount: 1

# -- This sets the container image more information can be found here: https://kubernetes.io/docs/concepts/containers/images/
image:
  registry: quay.io
  repository: containers/kubernetes_mcp_server
  # -- This sets the tag or sha digest for the image.
  version: latest
  # -- This sets the pull policy for images.
  pullPolicy: IfNotPresent

# -- This is for the secrets for pulling an image from a private repository more information can be found here: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
imagePullSecrets: []
# This is to override the chart name.
nameOverride: ""
# -- Override the full name to match openshift-mcp deployment (service name: ocp-mcp-server)
fullnameOverride: ocp-mcp-server

# -- This section builds out the service account more information can be found here: https://kubernetes.io/docs/concepts/security/service-accounts/
serviceAccount:
  # -- Specifies whether a service account should be created
  create: true
  # -- Annotations to add to the service account
  annotations: {}
  # -- The name of the service account to use.
  # -- If not set and create is true, a name is generated using the fullname template
  name: ocp-mcp

# -- This is for setting Kubernetes Annotations to a Pod.
# -- For more information checkout: https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/
podAnnotations: {}
# -- This is for setting Kubernetes Labels to a Pod.
# -- For more information checkout: https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/
podLabels: {}

# -- Default Security Context for the Pod when one is not provided
defaultPodSecurityContext:
  seccompProfile:
    type: RuntimeDefault

# -- Define the Security Context for the Pod
podSecurityContext: {}

# -- Default Security Context for the Container when one is not provided
defaultSecurityContext:
  allowPrivilegeEscalation: false
  capabilities:
      drop:
      - ALL
  runAsNonRoot: true

# -- Define the Security Context for the Container
securityContext: {}

# -- This is for setting up a service more information can be found here: https://kubernetes.io/docs/concepts/services-networking/service/
service:
  # --   This sets the service type more information can be found here: https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types
  type: ClusterIP
  # -- This sets the ports more information can be found here: https://kubernetes.io/docs/concepts/services-networking/service/#field-spec-ports
  port: 8080

# -- This block is for setting up the ingress for more information can be found here: https://kubernetes.io/docs/concepts/services-networking/ingress/
ingress:
  enabled: false
  className: ""
  annotations: {}
  host: ""
  path: /
  pathType: ImplementationSpecific
  termination: edge
  hosts:
  tls:
    #secretName: ""

# -- Resource requests and limits for the container.
# -- Set to empty {} to match openshift-mcp deployment (no limits)
resources: {}
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi

# -- Liveness and readiness probes for the container.
livenessProbe:
  httpGet:
    path: /healthz
    port: http
readinessProbe:
  httpGet:
    path: /healthz
    port: http

# -- Additional volumes on the output Deployment definition.
extraVolumes: []
# - name: foo
#   secret:
#     secretName: mysecret
#     optional: false

# -- Additional volumeMounts on the output Deployment definition.
extraVolumeMounts: []
# - name: foo
#   mountPath: "/etc/foo"
#   readOnly: true

nodeSelector: {}

tolerations: []

affinity: {}  

# Path to the configuration file inside the container
configFilePath: /etc/kubernetes-mcp-server/config.toml

# MCP Server configuration options. See https://github.com/containers/kubernetes-mcp-server/blob/main/pkg/config/config.go for details.
config:
  port: "8080"

# -- RBAC configuration for the MCP server
rbac:
  # -- Specifies whether to create a RoleBinding
  create: true
  # -- ClusterRole to bind (default: edit)
  # -- The edit ClusterRole allows read/write access to most resources in the namespace
  clusterRole: edit
